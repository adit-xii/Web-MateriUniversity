@model IEnumerable<_03.Materi.University.ViewModel.DosenViewModel>
@using _03.Materi.University.ViewModel;
@{
    PagingModel_Jurusan _page = (PagingModel_Jurusan)ViewData["pg"];
}


<table style="background-color:ghostwhite; width:100%">
    @if (Model != null)
    {
        foreach (var item in Model)
        {
            <tr class="tr">
                <td colspan="2"><b>@item.nama_dosen</b></td>
                <td rowspan="5" align="center" style="width:20%; vertical-align:middle">
                    <button title="Edit" class="btn_grid_edit btn btn-warning" data-id="@item.id_dosen_pk">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    </button>
                    <button title="Delete" class="btn_grid_details btn btn-info" data-id="@item.id_dosen_pk">
                        <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
                    </button>
                </td>
            </tr>
            <tr class="tr">
                <td style="width: 20%">@Html.DisplayNameFor(model => model.kode_dosen)</td>
                <td>@Html.DisplayFor(modelItem => item.kode_dosen)</td>

            </tr>
            <tr class="tr">
                <td>@Html.DisplayNameFor(model => model.id_jurusan_fk)</td>
                <td>@Html.DisplayFor(modelItem => item.program_studi)</td>
            </tr>
            <tr class="tr">
                <td>@Html.DisplayNameFor(model => model.id_type_dosen_fk)</td>
                <td>@Html.DisplayFor(modelItem => item.status_karyawan)</td>
            </tr>
            <tr class="tr">
                <td>@Html.DisplayNameFor(model => model.is_active)</td>
                <td>@Html.DisplayFor(modelItem => item.is_active)</td>
            </tr>

            <tr style="height:25px; background-color:white">
                <td colspan="3"></td>
            </tr>
        }
    }
    <!-- ini buat paging posisi buttom -->
    <tr>
        <td colspan="3">

            <table style="width:100%">
                <tr>
                    @* ini untuk paging *@
                    @if (_page != null)
                    {
                        <td style="float:left">
                            <label>Page @_page.CurrentPage from @_page.TotalPages</label>
                        </td>
                        if (_page.EndPage > 1)
                        {
                            <td>
                                <center>
                                    <ul class="pagination" style="margin:0px">
                                        @if (_page.CurrentPage > 1)
                                        {
                                            <li>
                                                <a href="#" onclick="PagingPageMove(1);">First</a>
                                            </li>
                                            <li>
                                                <a href="#" onclick="PagingPageMove((@_page.CurrentPage - 1));">Previous</a>
                                            </li>
                                        }

                                        @for (var page = _page.StartPage; page <= _page.EndPage; page++)
                                        {
                                            if (page == _page.CurrentPage)
                                            {
                                                <li class="active: active">
                                                    <a href="#" onclick="PagingPageMove(@page);">@page</a>
                                                </li>
                                            }
                                            else
                                            {
                                                <li>
                                                    <a href="#" onclick="PagingPageMove(@page);">@page</a>
                                                </li>
                                            }

                                        }

                                        @if (_page.CurrentPage < _page.TotalPages)
                                        {
                                            <li>
                                                <a href="#" onclick="PagingPageMove(@_page.CurrentPage + 1);">Next</a>
                                            </li>
                                            <li>
                                                <a href="#" onclick="PagingPageMove(@_page.TotalPages);">Last</a>
                                            </li>
                                        }
                                    </ul>
                                </center>
                            </td>
                        }
                    }
                    <td style="float:right">
                        <div class="form-inline">
                            <span>Size</span>&nbsp;
                            <select class="input-xs paged-size" style="height: 25px;" id="paging-size" onchange="PagingPageMove(1)">
                                <option value="5">5</option>
                                <option value="10">10</option>
                                <option value="25">25</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select>
                        </div>
                    </td>
                </tr>
            </table>

        </td>
    </tr>
</table>

<style>
    .tr {
        height: 25px;
        vertical-align: middle;
    }
</style>

<script type="text/javascript">
    function PagingPageMove(pPage) {
        ShowList(pPage, "", 1, 0);
    };

    $(".btn_grid_edit").click(function () {
        //alert('Id nya adalah :' + $(this).attr("data-id"));
        $("#modal-edit-form").modal("show");
        $(".modal-title").html("Edit Form Dosen");
        $(".div-bind-content").html(progHtml);

        $.ajax({
            url: '@Url.Action("Edit", "Dosen")',
            type: 'get',
            data: { paramId: $(this).attr("data-id") },
            success: function (result) {
                $(".div-bind-content").html(result);
            }
        });
    });

    $(".btn_grid_details").click(function () {
        //alert('Id nya adalah :' + $(this).attr("data-id"));
        $("#modal-edit-form").modal("show");
        $(".modal-title").html("Details Dosen");
        $(".div-bind-content").html(progHtml);

        $.ajax({
            url: '@Url.Action("Details", "Dosen")',
            type: 'get',
            data: { paramId: $(this).attr("data-id") },
            success: function (result) {
                $(".div-bind-content").html(result);
            }
        });
    });

</script>